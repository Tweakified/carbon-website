"use strict";(self.webpackChunkcarbondesignsystem=self.webpackChunkcarbondesignsystem||[]).push([[317348],{958689:function(e,n,t){var r;t.d(n,{SV:function(){return l},we:function(){return S}});var o=t(296540),u=t(786635),s=(t(440961),t(434743));function l(e){return o.useMemo((()=>e.every((e=>null==e))?null:n=>{e.forEach((e=>{"function"==typeof e?e(n):null!=e&&(e.current=n)}))}),e)}const c={...r||(r=t.t(o,2))},f=c.useInsertionEffect||(e=>e());function i(e){const n=o.useRef((()=>{0}));return f((()=>{n.current=e})),o.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}const a="ArrowUp",d="ArrowDown",m="ArrowLeft",v="ArrowRight";var g="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;const R=[m,v],C=[a,d];let p=!1,h=0;const w=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+h++;const M=c.useId||function(){const[e,n]=o.useState((()=>p?w():void 0));return g((()=>{null==e&&n(w())}),[]),o.useEffect((()=>{p=!0}),[]),e};function x(){const e=new Map;return{emit(n,t){var r;null==(r=e.get(n))||r.forEach((e=>e(t)))},on(n,t){e.set(n,[...e.get(n)||[],t])},off(n,t){var r;e.set(n,(null==(r=e.get(n))?void 0:r.filter((e=>e!==t)))||[])}}}const E=o.createContext(null),b=o.createContext(null),k=()=>{var e;return(null==(e=o.useContext(E))?void 0:e.id)||null},y=()=>o.useContext(b);function S(e){void 0===e&&(e={});const{nodeId:n}=e,t=function(e){const{open:n=!1,onOpenChange:t,elements:r}=e,u=M(),s=o.useRef({}),[l]=o.useState((()=>x())),c=null!=k(),[f,a]=o.useState(r.reference),d=i(((e,n,r)=>{s.current.openEvent=e?n:void 0,l.emit("openchange",{open:e,event:n,reason:r,nested:c}),null==t||t(e,n,r)})),m=o.useMemo((()=>({setPositionReference:a})),[]),v=o.useMemo((()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference})),[f,r.reference,r.floating]);return o.useMemo((()=>({dataRef:s,open:n,onOpenChange:d,elements:v,events:l,floatingId:u,refs:m})),[n,d,v,l,u,m])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,l=r.elements,[c,f]=o.useState(null),[a,d]=o.useState(null),m=(null==l?void 0:l.domReference)||c,v=o.useRef(null),R=y();g((()=>{m&&(v.current=m)}),[m]);const C=(0,s.we)({...e,elements:{...l,...a&&{reference:a}}}),p=o.useCallback((e=>{const n=(0,u.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;d(n),C.refs.setReference(n)}),[C.refs]),h=o.useCallback((e=>{((0,u.vq)(e)||null===e)&&(v.current=e,f(e)),((0,u.vq)(C.refs.reference.current)||null===C.refs.reference.current||null!==e&&!(0,u.vq)(e))&&C.refs.setReference(e)}),[C.refs]),w=o.useMemo((()=>({...C.refs,setReference:h,setPositionReference:p,domReference:v})),[C.refs,h,p]),E=o.useMemo((()=>({...C.elements,domReference:m})),[C.elements,m]),b=o.useMemo((()=>({...C,...r,refs:w,elements:E,nodeId:n})),[C,w,E,n,r]);return g((()=>{r.dataRef.current.floatingContext=b;const e=null==R?void 0:R.nodesRef.current.find((e=>e.id===n));e&&(e.context=b)})),o.useMemo((()=>({...C,context:b,refs:w,elements:E})),[C,w,E,b])}}}]);